<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orinoco Confirmation commande</title>
</head>

<body>
    <header>
        <a href="/front-end/listProducts.html">Accueil</a>
        <a href="/front-end/cart.html">Panier</a>
    </header>
    <main>
        <h1>MERCI POUR VOTRE COMMANDE !</h1>
        <p>Bonjour <span id="firstNameClient"></span>,</p>
        <p>Votre commande à bien été confirmée et nous vous en remercions !</p>
        <p>Prix total TTC :<span id="totalPrice"></span> </p>
        <p>
            Vous trouverez-ci dessous le récapitulatif de votre commande :
            <span id="orderId"></span>
        </p>
    </main>
    <footer>

    </footer>

    <script>
        /*On créer les variables pour intéragir avec le DOM afin de remplir les champs prénom, prix total 
        et Id commande*/
        const firstName = document.getElementById("firstNameClient");
        const totalPrice = document.getElementById("totalPrice");
        const orderId = document.getElementById("orderId");

        //On stocke les données de la commande dans le navigateur si celle-ci est définie dans celui-ci
        if (localStorage.order) {
            const data = JSON.parse(localStorage.order);
            /*On récupère sans balisage html les données de la commande (prénom, prix total, id de commande)*/
            firstName.innerText = data.contact.firstName;
            totalPrice.innerText = `${data.total / 100} €`;
            orderId.innerText = data.orderId;
            //Si order n'est pas défini alors on redirige vers la page d'accueil
            localStorage.removeItem("order");
        } else {
            location.assign("./liste-produits.html");

        }
    </script>
</body>

</html>